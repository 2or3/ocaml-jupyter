<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="JupyterNotebook.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="JupyterNotebook" rel="Chapter" href="JupyterNotebook.html">
<link title="JupyterNotebookCommManager" rel="Chapter" href="JupyterNotebookCommManager.html"><link title="Opening a comm from the REPL" rel="Section" href="#9_OpeningacommfromtheREPL">
<link title="Opening a comm from the frontend" rel="Section" href="#9_Openingacommfromthefrontend">
<title>JupyterNotebookCommManager</title>
</head>
<body>
<div class="navbar"><a class="pre" href="JupyterNotebook.html" title="JupyterNotebook">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;</div>
<h1>Module <a href="type_JupyterNotebookCommManager.html">JupyterNotebookCommManager</a></h1>

<pre><span class="keyword">module</span> JupyterNotebookCommManager: <code class="code">sig</code> <a href="JupyterNotebookCommManager.html">..</a> <code class="code">end</code></pre><div class="info module top">
User-defined communication<br>
<b>Since</b> 0.1.0<br>
</div>
<hr width="100%">
<br>
This module provides communication of arbitrary JSON data between the OCaml
    REPL and the Jupyter.
    See <a href="http://jupyter-notebook.readthedocs.io/en/latest/comms.html">
    Comms (Jupyter Notebook Docs)</a> for details.
<p>

    <div class="h9" id="9_OpeningacommfromtheREPL">Opening a comm from the REPL</div>
<p>

    <b>OCaml</b>:
<p>

    <pre class="codepre"><code class="code">      let target = Target.create "comm-test" in
      let comm = Comm.create target in   (* Send comm_open to the frontend *)
      Comm.send comm (`String "Hello") ; (* Send comm_msg to the frontend *)
      Comm.close comm                    (* Send comm_close to the frontend *)
    </code></pre>
<p>

    <b>JavaScript</b>:
<p>

    <pre class="codepre"><code class="code">      Jupyter.notebook.kernel.comm_manager.register_target('comm-test', function(comm, msg){
          console.log('opened comm', msg);
          comm.recv_msg(function (msg) { console.log('got msg', msg); });
        })
    </code></pre>
<p>

    <div class="h9" id="9_Openingacommfromthefrontend">Opening a comm from the frontend</div>
<p>

    <b>OCaml</b>:
<p>

    <pre class="codepre"><code class="code">      let target = Target.create "comm-test"
          ~recv_open:(fun comm json -&gt; ...) (* Receive json = `String "opening" *)
          ~recv_msg:(fun comm json -&gt; ...) (* Receive json = `String "msg" *)
          ~recv_close:(fun comm json -&gt; ...) (* Receive json = `String "closing" *)
    </code></pre>
<p>

    <b>JavaScript</b>:
<p>

    <pre class="codepre"><code class="code">      comm = Jupyter.notebook.kernel.comm_manager.new_comm('comm-test', 'opening');
      comm.send('msg');
      comm.close('closing');
    </code></pre><br>

<pre><span id="TYPEtarget"><span class="keyword">type</span> <code class="type"></code>target</span> </pre>


<pre><span id="TYPEcomm"><span class="keyword">type</span> <code class="type"></code>comm</span> </pre>


<pre><span class="keyword">module</span> <a href="JupyterNotebookCommManager.Target.html">Target</a>: <code class="code">sig</code> <a href="JupyterNotebookCommManager.Target.html">..</a> <code class="code">end</code></pre>
<pre><span class="keyword">module</span> <a href="JupyterNotebookCommManager.Comm.html">Comm</a>: <code class="code">sig</code> <a href="JupyterNotebookCommManager.Comm.html">..</a> <code class="code">end</code></pre></body></html>